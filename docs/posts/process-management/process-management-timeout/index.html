<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">
<meta name="dcterms.date" content="2024-09-29">
<meta name="description" content="Explore Linux commands. Free knowledge sharing under MIT License.">

<title>timeout – Linux Commands Handbook</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-T5MFF1D7PZ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-T5MFF1D7PZ', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="../../../favicon.ico">
<meta property="og:title" content="timeout – Linux Commands Handbook">
<meta property="og:site_name" content="Linux Commands Handbook">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../../" aria-label="Home">
                    <span>Linux Commands Handbook - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../../styles.css">





<header id="title-block-header">
<h1 class="title">timeout</h1>

<p class="date">2024-09-29</p>
</header>


<h2 id="understanding-the-basics">Understanding the Basics</h2>
<p>The core function of <code>timeout</code> is simple: it runs a specified command and terminates it after a given time limit. If the command completes within the time limit, <code>timeout</code> exits successfully. If the command exceeds the limit, <code>timeout</code> sends a signal (typically SIGTERM, but configurable) to the process, giving it a chance to clean up before being forcibly terminated (with SIGKILL if it doesn’t exit gracefully).</p>
<p>The basic syntax is:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">timeout</span> <span class="pp">[</span><span class="ss">OPTIONS</span><span class="pp">]</span> DURATION COMMAND <span class="pp">[</span><span class="ss">ARGUMENTS</span><span class="pp">]</span></span></code></pre></div>
<ul>
<li><strong>DURATION:</strong> Specifies the time limit. This can be expressed in seconds, minutes, or hours (e.g., 10s, 5m, 2h).</li>
<li><strong>COMMAND:</strong> The command you want to execute.</li>
<li><strong>ARGUMENTS:</strong> Any arguments required by the command.</li>
<li><strong>OPTIONS:</strong> Various options modify the behavior of <code>timeout</code>.</li>
</ul>
<h2 id="key-options-and-examples">Key Options and Examples</h2>
<p>Let’s look at some common <code>timeout</code> options with practical examples:</p>
<p><strong>1. Setting a Time Limit:</strong></p>
<p>This example runs the <code>sleep</code> command (which pauses execution for a specified number of seconds) for 5 seconds, but <code>timeout</code> limits it to 2 seconds:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">timeout</span> 2s sleep 5s</span></code></pre></div>
<p>The <code>sleep</code> command will be terminated after 2 seconds. You’ll see an output similar to:</p>
<pre><code>sleep 5s received SIGTERM</code></pre>
<p><strong>2. Using Different Time Units:</strong></p>
<p>You can specify the duration using different units:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">timeout</span> 1m ./my_long_running_script.sh  <span class="co"># 1 minute</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">timeout</span> 30m top <span class="co"># 30 minutes</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">timeout</span> 2h my_very_long_process <span class="co"># 2 hours</span></span></code></pre></div>
<p><strong>3. Ignoring Signals:</strong></p>
<p>By default, <code>timeout</code> sends a SIGTERM signal. The <code>-s</code> option allows you to specify a different signal. To forcefully kill the process after the timeout without sending a SIGTERM, use <code>-s KILL</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">timeout</span> <span class="at">-s</span> KILL 10s sleep 20s</span></code></pre></div>
<p><strong>4. Defining a Signal Handling Method:</strong></p>
<p>If you need more control over how the process responds to signals, you can specify how <code>timeout</code> should act after the time limit. Using the <code>-k</code> option allows you to send a kill signal (SIGKILL) after a specified period. For example the command below will give sleep 5s process 3 seconds to exit before sending SIGKILL.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">timeout</span> <span class="at">-k</span> 3s 5s sleep 10s</span></code></pre></div>
<p><strong>5. Handling Command Exit Status:</strong></p>
<p>The exit status of <code>timeout</code> reflects the outcome:</p>
<ul>
<li><strong>0:</strong> The command completed successfully within the time limit.</li>
<li><strong>124:</strong> The command timed out.</li>
<li><strong>137:</strong> The command timed out after receiving SIGKILL. (Note that the exact code may vary based on the signal)</li>
</ul>
<p>You can use this information in shell scripts to handle different scenarios:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="fu">timeout</span> 10s my_command<span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">"Command succeeded!"</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">"Command timed out!"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code></pre></div>
<p><strong>6. Output Redirection:</strong></p>
<p>You can redirect the standard output and standard error streams of the command using standard redirection operators:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">timeout</span> 10s my_command <span class="op">&gt;</span> output.txt <span class="dv">2</span><span class="op">&gt;</span> error.txt</span></code></pre></div>
<p><strong>7. Preventing Signals from being sent:</strong></p>
<p>The <code>-t</code> option stops the command from receiving SIGTERM or SIGKILL, ensuring it runs until completion. The timeout process will still end after the specified time, however. Note that the command will need to handle its own signals or you can use other methods such as <code>pkill</code> or <code>kill</code> afterwards.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">timeout</span> <span class="at">-t</span> 10s my_command</span></code></pre></div>
<p>These examples illustrate the versatility of the <code>timeout</code> command. It’s a useful tool for anyone working extensively with the Linux command line, enabling more efficient process management.</p>


<footer>
    <p>© 2024 · Content on this site is licensed under the <a href="https://opensource.org/licenses/MIT">MIT License</a> · Built with ♥</p>
</footer>
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3609399560636561" crossorigin="anonymous"></script>




</body></html>