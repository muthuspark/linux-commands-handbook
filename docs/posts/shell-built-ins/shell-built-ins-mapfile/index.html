<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Muthukrishnan">
<meta name="dcterms.date" content="2024-10-19">
<meta name="description" content="Explore Linux commands. Free knowledge sharing under MIT License.">

<title>mapfile – Linux Commands Handbook</title>
<style>
html {
  color: #1a1a1a;
  background-color: #fdfdfd;
}
body {
  margin: 0 auto;
  max-width: 36em;
  padding-left: 50px;
  padding-right: 50px;
  padding-top: 50px;
  padding-bottom: 50px;
  hyphens: auto;
  overflow-wrap: break-word;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
}
@media (max-width: 600px) {
  body {
    font-size: 0.9em;
    padding: 12px;
  }
  h1 {
    font-size: 1.8em;
  }
}
@media print {
  html {
    background-color: white;
  }
  body {
    background-color: transparent;
    color: black;
    font-size: 12pt;
  }
  p, h2, h3 {
    orphans: 3;
    widows: 3;
  }
  h2, h3, h4 {
    page-break-after: avoid;
  }
}
p {
  margin: 1em 0;
}
a {
  color: #1a1a1a;
}
a:visited {
  color: #1a1a1a;
}
img {
  max-width: 100%;
}
svg {
  height; auto;
  max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.4em;
}
h5, h6 {
  font-size: 1em;
  font-style: italic;
}
h6 {
  font-weight: normal;
}
ol, ul {
  padding-left: 1.7em;
  margin-top: 1em;
}
li > ol, li > ul {
  margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
  margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
  margin-top: 1rem;
}
blockquote {
  margin: 1em 0 1em 1.7em;
  padding-left: 1em;
  border-left: 2px solid #e6e6e6;
  color: #606060;
}
code {
  font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
  font-size: 85%;
  margin: 0;
  hyphens: manual;
}
pre {
  margin: 1em 0;
  overflow: auto;
}
pre code {
  padding: 0;
  overflow: visible;
  overflow-wrap: normal;
}
.sourceCode {
 background-color: transparent;
 overflow: visible;
}
hr {
  background-color: #1a1a1a;
  border: none;
  height: 1px;
  margin: 1em 0;
}
table {
  margin: 1em 0;
  border-collapse: collapse;
  width: 100%;
  overflow-x: auto;
  display: block;
  font-variant-numeric: lining-nums tabular-nums;
}
table caption {
  margin-bottom: 0.75em;
}
tbody {
  margin-top: 0.5em;
  border-top: 1px solid #1a1a1a;
  border-bottom: 1px solid #1a1a1a;
}
th {
  border-top: 1px solid #1a1a1a;
  padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
  padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
  margin-bottom: 4em;
  text-align: center;
}
#TOC li {
  list-style: none;
}
#TOC ul {
  padding-left: 1.3em;
}
#TOC > ul {
  padding-left: 0;
}
#TOC a:not(:hover) {
  text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<link href="../../../favicon.ico" rel="icon">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-T5MFF1D7PZ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-T5MFF1D7PZ', { 'anonymize_ip': true});
</script>
<link rel="icon" type="image/x-icon" href="../../../favicon.ico">
<meta property="og:title" content="mapfile – Linux Commands Handbook">
<meta property="og:site_name" content="Linux Commands Handbook">
</head><body><div class="navigation-header">
    <nav>
        <div>
            <div class="logo">
                <a href="../../../" aria-label="Home">
                    <span>Linux Commands Handbook - Home</span>
                </a>
            </div>
            <div class="nav-menu">
                <ul>
                    <li>
                        <a href="../../../about.html">
                            <span class="menu-text">About</span>
                        </a>
                    </li>
                    <li> 
                        <a href="https://github.com/muthuspark" target="_blank">
                            <span class="menu-text">Github</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/krimuthu" target="_blank">
                            <span class="menu-text">Linkedin</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>


<link rel="stylesheet" href="../../../styles.css">





<header id="title-block-header">
<h1 class="title">mapfile</h1>

<p class="date">2024-10-19</p>
</header>


<h2 id="what-is-mapfile">What is <code>mapfile</code>?</h2>
<p><code>mapfile</code> is a Bash built-in command that reads lines from a file or standard input and stores them into an array variable. This simplifies the process of loading data into arrays, eliminating the need for complex loops and manual array indexing. It offers flexibility and control over how data is imported, making it useful for various scripting tasks.</p>
<h2 id="basic-usage">Basic Usage</h2>
<p>The simplest form of <code>mapfile</code> reads lines from standard input and assigns them to an array called <code>myArray</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapfile</span> myArray</span></code></pre></div>
<p>Now, type some lines of text, pressing Enter after each one. Once you’ve finished, press Ctrl+D (EOF) to signal the end of input. The lines you typed will be stored in <code>myArray</code>. You can access individual elements using array indexing:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"</span><span class="va">${myArray</span><span class="op">[</span><span class="dv">0</span><span class="op">]</span><span class="va">}</span><span class="st">"</span> <span class="co"># Prints the first line</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"</span><span class="va">${myArray</span><span class="op">[</span><span class="dv">1</span><span class="op">]</span><span class="va">}</span><span class="st">"</span> <span class="co"># Prints the second line</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"</span><span class="va">${</span><span class="op">#</span><span class="va">myArray</span><span class="op">[@]</span><span class="va">}</span><span class="st">"</span> <span class="co"># Prints the number of elements in the array</span></span></code></pre></div>
<h2 id="reading-from-a-file">Reading from a File</h2>
<p>Instead of standard input, you can specify a file to read from using the <code>-t</code> option (to remove trailing newlines) and the <code>&lt;</code> redirection operator:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapfile</span> <span class="at">-t</span> myArray <span class="op">&lt;</span> myfile.txt</span></code></pre></div>
<p>This reads each line from <code>myfile.txt</code>, removes the trailing newline character from each line and assigns the result to the <code>myArray</code> array.</p>
<p>Example <code>myfile.txt</code>:</p>
<pre><code>Line one
Line two
Line three</code></pre>
<p>After running the command, <code>myArray[0]</code> would hold “Line one”, <code>myArray[1]</code> would hold “Line two”, and so on.</p>
<h2 id="specifying-a-variable-name">Specifying a Variable Name</h2>
<p>While <code>mapfile</code> defaults to using the name <code>myArray</code>, you can explicitly specify the array variable name:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapfile</span> <span class="at">-t</span> myData <span class="op">&lt;</span> myfile.txt</span></code></pre></div>
<p>This will populate the <code>myData</code> array instead of <code>myArray</code>.</p>
<h2 id="controlling-the-array-index">Controlling the Array Index</h2>
<p>The <code>-O</code> option lets you specify the starting index for the array:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapfile</span> <span class="at">-t</span> <span class="at">-O</span> 3 myArray <span class="op">&lt;</span> myfile.txt</span></code></pre></div>
<p>This starts the array index at 3, so the first line from <code>myfile.txt</code> will be stored in <code>myArray[3]</code>, the second in <code>myArray[4]</code>, and so on.</p>
<h2 id="limiting-the-number-of-lines">Limiting the Number of Lines</h2>
<p>Use the <code>-n</code> option to limit the number of lines read:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapfile</span> <span class="at">-n</span> 2 <span class="at">-t</span> myArray <span class="op">&lt;</span> myfile.txt</span></code></pre></div>
<p>This reads only the first two lines from <code>myfile.txt</code> into <code>myArray</code>.</p>
<h2 id="using-a-separator">Using a Separator</h2>
<p>By default, <code>mapfile</code> uses newline characters as separators. However, you can use the <code>-d</code> option to specify a different delimiter:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapfile</span> <span class="at">-d</span> <span class="st">','</span> <span class="at">-t</span> myArray <span class="op">&lt;</span> myfile.csv</span></code></pre></div>
<p>This reads lines from <code>myfile.csv</code>, using a comma as the delimiter. Each comma-separated value will become a separate element in the <code>myArray</code> array.</p>
<p>Example <code>myfile.csv</code>:</p>
<pre><code>apple,banana,orange
grape,kiwi,mango</code></pre>
<p>After running this, <code>myArray[0]</code> would be “apple”, <code>myArray[1]</code> would be “banana”, and so on.</p>
<h2 id="combining-options">Combining Options</h2>
<p>You can combine multiple options for even more control. For example, to read the first 5 lines from a file, starting at index 2 and using a semicolon as the delimiter:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapfile</span> <span class="at">-n</span> 5 <span class="at">-O</span> 2 <span class="at">-d</span> <span class="st">';'</span> <span class="at">-t</span> myArray <span class="op">&lt;</span> myfile.txt</span></code></pre></div>
<h2 id="handling-empty-lines">Handling Empty Lines</h2>
<p>If your file contains empty lines, these will be included in the array as empty strings. You can filter these out if needed using additional scripting techniques.</p>
<h2 id="reading-from-a-commands-output">Reading from a Command’s Output</h2>
<p>Instead of a file, you can read from the output of a command using command substitution:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapfile</span> <span class="at">-t</span> myArray <span class="op">&lt;</span> <span class="op">&lt;(</span><span class="fu">ls</span> <span class="at">-l</span><span class="op">)</span></span></code></pre></div>
<p>This reads the output of the <code>ls -l</code> command and stores it in the <code>myArray</code> array. Note the use of process substitution <code>&lt;(command)</code>.</p>
<p>These examples demonstrate the versatility of <code>mapfile</code>. By mastering its options, you can efficiently manage data within your shell scripts, simplifying complex array manipulations.</p>


<footer>
    <p>© 2024 · Content on this site is licensed under the <a href="https://opensource.org/licenses/MIT">MIT License</a> · Built with ♥</p>
</footer>




</body></html>